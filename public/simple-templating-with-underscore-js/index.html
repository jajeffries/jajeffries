<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>Simple templating with underscore.js</title>
	
	
	<link rel="stylesheet" href="/blog/css/style.css">
	
	
</head>
<body>
	<header>
	==========<br>
	== <a href="https://jajeffries.com/blog/">Blog</a> ==<br>
	==========
	<div style="float: right;">Your blog subtitle goes here!</div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.
			
			
			<a href="/blog/posts/"><b>Posts</b></a>.
			
			<a href="/blog/categories/"><b>Categories</b></a>.
			
			<a href="/blog/tags/"><b>Tags</b></a>.
			
	</nav>
	</p>
	
</header>

	
	<main>
		<article>
			<h1>Simple templating with underscore.js</h1>
			<b><time>02.01.2015 17:00</time></b>
		       
		           <a href="/tags/uncategorized">Uncategorized</a>
        	       

			<div>
				<p>I don&rsquo;t like frameworks. Frameworks get everywhere, leaving you stuck with a decision you made before you built whatever you&rsquo;re working on. You wouldn&rsquo;t couple parts of your code as tightly as some frameworks require you to be coupled to them. It&rsquo;s much better to be able to change things as you go along and as you learn more about your system. I prefer to use small libraries which I can compose together, preferably behind suitable abstractions. A good example of a library I regularly use is <a href="http://underscorejs.org/">underscore.js</a>. I use this in most of my projects because it saves me writing a lot of boiler plate (especially when dealing with collections) and makes my code more readable, making it easier for me to express my intent. As I have underscore in my project anyway, I may as well use it&rsquo;s <a href="http://underscorejs.org/#template">templating function</a>. It&rsquo;s pretty simple to use: [code language=&ldquo;js&rdquo;] var compiled_template = _.template(&rsquo;&rsquo;), result = compiled_template({blah:&rsquo;test&rsquo;}); console.log(result); [/code] This will result in <code>'test'</code>, which we can attach to the DOM. In this example I&rsquo;ve just passed a string straight into underscore&rsquo;s template function, but it&rsquo;s probably simpler for us to put this in HTML instead, especially with larger templates. We can do this by putting it in a script element. [code language=&ldquo;js&rdquo;] <!-- raw HTML omitted --> <!-- raw HTML omitted --> &lt;% for(var i=0; i&lt;my_list.length; i++) { %&gt; <!-- raw HTML omitted -->&lt;%= my_list[i] %&gt;<!-- raw HTML omitted --> &lt;%}%&gt; <!-- raw HTML omitted --> <!-- raw HTML omitted --> [/code] We can retrieve this by querying the DOM for the ID we&rsquo;ve specified. [code language=&ldquo;js&rdquo;] var list_tmpl = document.getElementByID(list_tmpl).innerHTML; [/code] So if we put everything together we get this simple function: [code language=&ldquo;js&rdquo;] <!-- raw HTML omitted --> <!-- raw HTML omitted --> &lt;% for(var i=0; i&lt;my_list.length; i++) { %&gt; <!-- raw HTML omitted -->&lt;%= my_list[i] %&gt;<!-- raw HTML omitted --> &lt;%}%&gt; <!-- raw HTML omitted --> <!-- raw HTML omitted --> function render(template_id, data) { var tmpl = document.getElementByID(template_id).innerHTML, compiled_template = _.template(tmpl), return compiled_template(data); } var html = render(&rsquo;list_tmpl&rsquo;, {my_list:[1, 2, 3, 4]}); document.getElementByID(&lsquo;my_list&rsquo;).innerHTML = html; <!-- raw HTML omitted --><!-- raw HTML omitted --> [/code] Simple. I&rsquo;ve used vanilla javascript here, but it should be easy enough to swap that out for jQuery or whatever you use for DOM manipulation instead.</p>

			</div>
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/blog/pages/about-me/">About me</a></li>
				
				<li><a href="/blog/pages/talks/">Talks</a></li>
				
			</ul>
		</div>
	</div>
</aside>


	<footer>
	<p>&copy; 2024 <a href="https://jajeffries.com/blog/"><b>Blog</b></a>.
	<a href="https://github.com/example"><b>Github</b></a>.
	<a href="https://example.com/@user"><b>Mastodon</b></a>.
	<a href="/blog/imprint"><b>Imprint</b></a>.
	</p>
</footer>

</body>
</html>
